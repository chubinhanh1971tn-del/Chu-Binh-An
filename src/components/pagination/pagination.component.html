

@if (totalPages() > 1) {
  <nav class="flex items-center justify-center space-x-1 md:space-x-2" aria-label="Pagination">
    <button
      (click)="goToPage(currentPage() - 1)"
      [disabled]="currentPage() === 1"
      class="relative inline-flex items-center px-3 py-2 text-sm font-semibold text-gray-700 rounded-md hover:bg-gray-100 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
    >
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5 md:mr-2">
        <path fill-rule="evenodd" d="M11.78 5.22a.75.75 0 0 1 0 1.06L8.06 10l3.72 3.72a.75.75 0 1 1-1.06 1.06l-4.25-4.25a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0Z" clip-rule="evenodd" />
      </svg>
      <span class="hidden md:inline">Trước</span>
    </button>
    
    @for(page of pages(); track $index) {
      @if (isNumber(page)) {
        <button
          (click)="goToPage(page)"
          [class.bg-yellow-500]="currentPage() === page"
          [class.text-white]="currentPage() === page"
          [class.shadow-md]="currentPage() === page"
          [class.text-gray-800]="currentPage() !== page"
          [class.hover:bg-gray-100]="currentPage() !== page"
          class="relative inline-flex items-center justify-center w-10 h-10 text-sm font-semibold rounded-md focus:z-20 focus:outline-offset-0 transition-all duration-200"
        >
          {{ page }}
        </button>
      } @else {
        <span class="relative inline-flex items-center justify-center w-10 h-10 text-sm font-semibold text-gray-500">...</span>
      }
    }

    <button
      (click)="goToPage(currentPage() + 1)"
      [disabled]="currentPage() === totalPages()"
      class="relative inline-flex items-center px-3 py-2 text-sm font-semibold text-gray-700 rounded-md hover:bg-gray-100 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
    >
      <span class="hidden md:inline">Sau</span>
       <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5 md:ml-2">
        <path fill-rule="evenodd" d="M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd" />
      </svg>
    </button>

     <!-- Jump to page input -->
    <form (submit)="$event.preventDefault(); handleJumpToPage()" class="flex items-center space-x-1 ml-1 md:ml-2">
        <input 
            type="number"
            name="jumpToPageInput"
            class="w-16 px-2 py-2 text-center border border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500 text-sm"
            [ngModel]="jumpToPageInput()"
            (ngModelChange)="jumpToPageInput.set($event)"
            min="1"
            [max]="totalPages()"
            aria-label="Jump to page"
        >
        <button type="submit" class="px-3 py-2 text-sm font-semibold text-gray-700 rounded-md hover:bg-gray-100 border border-gray-300 transition-colors">Đi</button>
    </form>
  </nav>
}